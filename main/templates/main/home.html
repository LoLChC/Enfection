<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kızıl Hastalığı – Eğitim Oyunları</title>
<style>
:root{--main:#ff5252;--bg:#0e0e0e;--card:#1e1e1e}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial;background:linear-gradient(135deg,#0b0b0b,#1a1a1a);color:#eee;min-height:100vh}
.container{max-width:1100px;margin:auto;padding:30px}
h1{text-align:center;color:var(--main);margin-bottom:30px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
.card{background:var(--card);padding:25px;border-radius:14px;text-align:center;cursor:pointer;transition:.35s;box-shadow:0 10px 30px rgba(0,0,0,.4)}
.card:hover{transform:translateY(-6px) scale(1.03);background:var(--main)}
.screen{display:none;animation:fade .5s ease}
.screen.active{display:block}
@keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.gameBox{background:var(--card);border-radius:16px;padding:30px;box-shadow:0 15px 40px rgba(0,0,0,.5)}
.question{font-size:20px;margin-bottom:20px}
.answers button,input{width:100%;padding:12px;margin:8px 0;border-radius:8px;border:none;font-size:16px}
.answers button{background:#333;color:#fff;cursor:pointer;transition:.25s}
.answers button:hover{background:var(--main)}
input{background:#111;color:#fff;border:1px solid #333}
.result{margin-top:15px;font-weight:bold}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.back{cursor:pointer;color:#aaa}
.back:hover{color:#fff}
.progress{color:#aaa}
</style>
</head>
<body>
<div class="container">
<h1>Kızıl Hastalığı – Oyunla Öğren</h1>

<div id="menu" class="screen active">
  <div class="grid" id="gameList"></div>
</div>

<div id="game" class="screen">
  <div class="gameBox">
    <div class="topbar">
      <div class="back" onclick="backMenu()">← Menü</div>
      <div class="progress" id="progress"></div>
    </div>
    <h2 id="gameTitle"></h2>
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
    <div class="result" id="result"></div>
  </div>
</div>
</div>

<script>
// NOT: Önceki hata, info oyunu için yanlış kapatılan bloklardan kaynaklanıyordu.
// Aşağıdaki JS temizlenmiş ve test edilmiş sürümdür.

const games = [
  {
    title: 'Çoktan Seçmeli', type: 'mc', q: [
      { q: 'Kızıl hastalığının etkeni nedir?', a: ['Virüs','Bakteri','Mantar','Parazit'], c: 1 },
      { q: 'Kızıl hangi bakteriyle ilişkilidir?', a: ['E.coli','Streptokok','Stafilokok','Salmonella'], c: 1 },
      { q: 'Kızıl en sık hangi yaş grubunda görülür?', a: ['0-1','5-15','20-30','60+'], c: 1 },
      { q: 'Kızılda dil nasıl görünür?', a: ['Beyaz','Mor','Çilek dili','Sarı'], c: 2 },
      { q: 'Kızıl bulaşıcı mıdır?', a: ['Evet','Hayır','Nadiren','Sadece temasla'], c: 0 },
      { q: 'Kızılda döküntü nasıldır?', a: ['Kabarcıklı','Zımpara gibi','Mor','Pullu'], c: 1 },
      { q: 'Kızıl hangi yolla bulaşır?', a: ['Kan','Hava','Gıda','Hayvan'], c: 1 },
      { q: 'Tedavide ne kullanılır?', a: ['Aşı','Antibiyotik','Vitamin','Ağrı kesici'], c: 1 },
      { q: 'Kızıl genelde hangi enfeksiyon sonrası çıkar?', a: ['Grip','Boğaz','Astım','Bronşit'], c: 1 },
      { q: 'Kızıl en çok hangi organda belirti verir?', a: ['Cilt','Akciğer','Böbrek','Kalp'], c: 0 }
    ]
  },

  {
    title: 'Boşluk Doldurma', type: 'fill', q: [
      { q: 'Kızıl hastalığı ____ kaynaklıdır.', ans: 'bakteri' },
      { q: 'Kızıl ____ yoluyla bulaşır.', ans: 'hava' },
      { q: 'Kızılda görülen dile ____ dili denir.', ans: 'çilek' },
      { q: 'Kızıl tedavisinde ____ kullanılır.', ans: 'antibiyotik' },
      { q: 'Kızıl genelde ____ yaş grubunda görülür.', ans: 'çocuk' },
      { q: 'Kızılda cilt ____ gibidir.', ans: 'zımpara' },
      { q: 'Kızıl ____ enfeksiyonu sonrası çıkar.', ans: 'boğaz' },
      { q: 'Kızıl ____ bir hastalıktır.', ans: 'bulaşıcı' },
      { q: 'Kızıl hastalığına ____ neden olur.', ans: 'streptokok' },
      { q: 'Kızılda ateş genelde ____ olur.', ans: 'yüksek' }
    ]
  },

  {
    title: 'Bilgi Avı', type: 'info', q: [
      { q: 'Kızıl, streptokok bakterisinin neden olduğu bulaşıcı bir hastalıktır.' },
      { q: 'Cilt döküntüsü zımpara hissi verir.' },
      { q: 'Çilek dili kızılın tipik belirtisidir.' },
      { q: 'Kızıl en sık çocuklarda görülür.' },
      { q: 'Hava damlacıklarıyla bulaşır.' },
      { q: 'Boğaz enfeksiyonu sonrası ortaya çıkar.' },
      { q: 'Antibiyotikle tedavi edilir.' },
      { q: 'Erken tedavi komplikasyonları önler.' },
      { q: 'Ateş ve halsizlik sık görülür.' },
      { q: 'Tedavi edilmezse risklidir.' }
    ]
  }
];

const menu = document.getElementById('menu');
const gameScr = document.getElementById('game');
const list = document.getElementById('gameList');
let gi = 0, qi = 0;

list.innerHTML = '';

games.forEach((g, i) => {
  const c = document.createElement('div');
  c.className = 'card';
  c.innerText = g.title;
  c.onclick = () => start(i);
  list.appendChild(c);
});

function start(i) {
  gi = i; qi = 0;
  menu.classList.remove('active');
  gameScr.classList.add('active');
  document.getElementById('gameTitle').innerText = games[gi].title;
  load();
}

function backMenu() {
  gameScr.classList.remove('active');
  menu.classList.add('active');
}

function load() {
  const g = games[gi];
  const item = g.q[qi];
  document.getElementById('question').innerText = item.q;
  document.getElementById('progress').innerText = (qi + 1) + '/10';
  const a = document.getElementById('answers');
  a.innerHTML = '';
  document.getElementById('result').innerText = '';

  if (g.type === 'mc') {
    item.a.forEach((t, i) => {
      const b = document.createElement('button');
      b.innerText = t;
      b.onclick = () => next(i === item.c, false);
      a.appendChild(b);
    });
  }

  if (g.type === 'fill') {
    const inp = document.createElement('input');
    const b = document.createElement('button');
    b.innerText = 'Gönder';
    b.onclick = () => next(inp.value.toLowerCase() === item.ans, false);
    a.append(inp, b);
  }

  if (g.type === 'info') {
    const b = document.createElement('button');
    b.innerText = 'Devam';
    b.onclick = () => next(true, true);
    a.appendChild(b);
  }
}

function next(ok, infoMode) {
  document.getElementById('result').innerText = infoMode ? '' : (ok ? 'Doğru' : 'Yanlış');
  qi++;
  if (qi < 10) setTimeout(load, 800);
  else setTimeout(backMenu, 1000);
}
</script>
</body>
</html>
